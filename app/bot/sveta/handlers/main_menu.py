from app.bot.models import UpdateCallBackQuery, UpdateMessage
from app.bot.utils import inline_keyboard_builder
from app.store import Store


async def main_menu(
    update: UpdateCallBackQuery | UpdateMessage, store: "Store", *args
):
    text = (
        "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Wonderland ‚Äî –≤–æ–ª—à–µ–±–Ω—ã–π –º–∏—Ä —à–æ—É –ø—É–∑—ã—Ä–µ–π –∏ –≤–µ—Å—ë–ª—ã—Ö –∞–Ω–∏–º–∞—Ç–æ—Ä–æ–≤!\n"
        "–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?"
    )
    keyboard = inline_keyboard_builder(
        [
            [("üé≠ –ü—Ä–æ–≥—Ä–∞–º–º—ã –∏ –∑–∞–∫–∞–∑", "choosing_program")],
            [("üéÅ –ê–∫—Ü–∏–∏", "promo")],
            [("‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã", "viewing_faq")],
            [("üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏", "feedback_input")],
        ]
    )
    if isinstance(update, UpdateCallBackQuery):
        photo_result = await store.tg_api.edit_message_media(
            chat_id=update.get_chat_id(),
            message_id=update.get_message_id(),
            # file_id="AgACAgIAAxkDAAIev2gkRUYxl76b6bLhz1jAuqdSLzs-AAJt7DEbtLQoSUHuX48UhUsSAQADAgADeAADNgQ",
            file_path="images/logo.png",
            caption=text,
            reply_markup=keyboard,
        )
        photo_result
    else:
        photo_result = await store.tg_api.send_photo(
            chat_id=update.get_chat_id(),
            caption=text,
            path_image="images/logo.png",
            reply_markup=keyboard,
        )
        photo_result
