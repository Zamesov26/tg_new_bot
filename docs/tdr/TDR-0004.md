# TDR-0004. Большой монолитный класс TgApiAccessor

## Заголовок
Большой монолитный класс TgApiAccessor с множеством ответственностей

## Контекст
Класс `TgApiAccessor` в файле `app/tg_api/accessor.py` содержит множество методов для работы с разными аспектами Telegram API:
1. Отправка сообщений (`send_message`, `send_photo`, `send_media_group`)
2. Редактирование сообщений (`edit_message_text`, `edit_message_caption`, `edit_message_media`)
3. Удаление сообщений (`delete_message`)
4. Работа с коллбэками (`answer_callback_query`)
5. Получение обновлений (`poll`)

В самом файле есть TODO-комментарий: "# TODO разбить на несколько классов использовать паттерн фасад"

## Долг
Класс нарушает принцип единственной ответственности (Single Responsibility Principle), так как имеет множество причин для изменения. Это затрудняет тестирование, поддержку и расширение функциональности.

## Влияние
1. Сложность тестирования из-за множества зависимостей
2. Трудности при внесении изменений - высокий риск внесения ошибок
3. Несоответствие принципам SOLID
4. Затрудненная переиспользуемость кода
5. Сложность понимания кода новыми разработчиками

## План исправления
1. Разбить класс на несколько специализированных классов:
   - MessageService (для работы с сообщениями)
   - CallbackService (для работы с коллбэками)
   - UpdateService (для получения обновлений)
2. Создать фасадный класс, объединяющий все сервисы
3. Обновить зависимости в коде для использования новых классов
4. Написать тесты для каждого нового класса